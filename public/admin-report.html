<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>Record Incident - Admin</title>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap");
      body {
        font-family: "Inter", sans-serif;
        background-color: #f0f7ff;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <div class="max-w-4xl mx-auto px-6 py-8">
      <nav
        class="fixed top-0 right-0 left-0 flex items-center justify-between bg-gray-800 h-16 px-4 sm:px-6 shadow-lg z-50"
      >
        <div
          class="logo flex items-center gap-2 bg-gray-700 px-3 sm:px-4 py-2 rounded"
        >
          <a href="admin.html">
            <h2 class="font-bold text-gray-200 text-sm sm:text-base">
              Waste Watch - Admin
            </h2>
          </a>
        </div>

        <ul
          class="nav-links hidden sm:flex gap-4 sm:gap-8 flex-1 mx-auto justify-end mr-5"
        >
          <li>
            <a
              href="admin.html"
              class="text-white hover:text-amber-400 transition text-sm sm:text-base"
              >Dashboard</a
            >
          </li>
          <li>
            <button
              id="logout-button"
              class="text-white hover:text-amber-400 transition text-sm sm:text-base"
            >
              Logout
            </button>
          </li>
        </ul>

        <img
          src="../assets/avatar-collector.png"
          alt="admin_avatar"
          class="w-8 h-8 rounded-full bg-gray-400"
        />
      </nav>

      <div class="max-w-4xl mx-auto px-6 py-10 mt-16">
        <div class="mb-8">
          <h1 class="text-3xl font-bold text-gray-800">Record New Incident</h1>
          <p class="text-gray-600 mt-2">
            As an admin, record a waste incident and assign it directly to a driver.
          </p>
        </div>

        <div class="bg-white rounded-xl shadow-lg p-8">
          <form id="admin-report-form" enctype="multipart/form-data">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Waste Category -->
              <div>
                <label for="category" class="block text-sm font-medium text-gray-700 mb-2">
                  Waste Category <span class="text-red-500">*</span>
                </label>
                <select
                  id="category"
                  name="category"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  required
                >
                  <option value="">Select Category</option>
                  <option value="recyclable">Recyclable Waste</option>
                  <option value="illegal_dumping">Illegal Dumping</option>
                  <option value="hazardous_waste">Hazardous Waste</option>
                </select>
              </div>

              <!-- Assign Driver -->
              <div>
                <label for="assignedDriverId" class="block text-sm font-medium text-gray-700 mb-2">
                  Assign to Driver <span class="text-red-500">*</span>
                </label>
                <select
                  id="assignedDriverId"
                  name="assignedDriverId"
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  required
                >
                  <option value="">Select Driver</option>
                  <!-- Options will be populated by JavaScript -->
                </select>
              </div>
            </div>

            <!-- Address -->
            <div class="mt-6">
              <label for="address" class="block text-sm font-medium text-gray-700 mb-2">
                Location Address <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="address"
                name="address"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="Enter the full address of the incident"
                required
              />
            </div>

            <!-- Description -->
            <div class="mt-6">
              <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
                Incident Description
              </label>
              <textarea
                id="description"
                name="description"
                rows="4"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="Provide detailed description of the waste incident..."
              ></textarea>
            </div>

            <!-- Photo Upload -->
            <div class="mt-6">
              <label for="photos" class="block text-sm font-medium text-gray-700 mb-2">
                Upload Photos (Optional)
              </label>
              <input
                type="file"
                id="photos"
                name="photos"
                multiple
                accept="image/*"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
              <p class="text-xs text-gray-500 mt-1">
                You can upload up to 5 photos. Supported formats: JPG, PNG, GIF
              </p>
            </div>

            <!-- Submit Button -->
            <div class="mt-8 flex gap-4">
              <button
                type="button"
                onclick="window.location.href='admin.html'"
                class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 font-medium"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="flex-1 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium"
              >
                Record Incident & Assign
              </button>
            </div>
          </form>
        </div>

        <!-- Success/Error Messages -->
        <div id="message-container" class="mt-6 hidden">
          <div id="message" class="p-4 rounded-md"></div>
        </div>
      </div>
    </div>

    <script src="admin-report.js"></script>
  </body>
</html>